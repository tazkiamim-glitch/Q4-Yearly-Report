@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }
}

body {
  @apply bg-gray-50;
  /* Prevent horizontal scroll while allowing slides to scroll vertically on short screens */
  overflow-x: hidden;
}

.gradient-bg {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background: linear-gradient(180deg, #FFF7E8 0%, #FFF 100%);
}

.gradient-bg-live-class {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background: linear-gradient(180deg, #FFE6F3 0%, #FFF7E8 100%);
}

.gradient-bg-quiz-performance {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background: linear-gradient(180deg, #F3F7FF 0%, #FFF7E8 100%);
}

.gradient-bg-streak-tracker {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background: linear-gradient(180deg, #FFF7E8 0%, #FFF3D6 100%);
}

.gradient-bg-study-time {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background: linear-gradient(180deg, #E6FFF3 0%, #FFF7E8 100%);
}

.gradient-bg-final-congrats {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background: linear-gradient(180deg, #FFF7E8 0%, #FFE6F3 100%);
}

.gradient-bg-day-of-week {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background: linear-gradient(135deg, #f3e6ff 0%, #f9d7ec 100%);
}

.gradient-bg-comparison {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background: linear-gradient(180deg, #FFF6E8 0%, #FFF0F6 50%, #FFE7F3 100%);
}

.score-gradient-bg {
  background: linear-gradient(90deg, #FFF7E8 0%, #F3F7FF 100%);
}

.btn-gradient-cta {
  background: linear-gradient(90deg, #C94090 0%, #3B4CB9 100%);
  color: #fff;
}

.card-oval {
  @apply bg-white rounded-3xl shadow-lg px-3 py-6 sm:px-4 sm:py-8 md:px-6 md:py-10 max-w-md mx-auto relative z-20;
}

.card-oval-compact {
  @apply py-2 sm:py-3 md:py-4;
}

.slide-container {
  /* Use dynamic viewport units with safe fallbacks across mobile browsers */
  height: 100dvh;
  min-height: 100dvh;
  max-height: 100dvh;
  /* Allow vertical scrolling if content slightly overflows; never allow horizontal */
  overflow-x: hidden;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Prefer small-viewport height when available to avoid address bar overlap */
@supports (height: 100svh) {
  .slide-container {
    height: 100svh;
    min-height: 100svh;
    max-height: 100svh;
  }
}

/* Reusable responsive width for central cards on mobile */
.card-responsive {
  width: min(92vw, 420px);
  max-width: min(92vw, 420px);
}

.confetti {
  @apply absolute;
  z-index: 10;
  animation: fall linear forwards;
}

@keyframes fall {
  0% { top: -2rem; }
  100% { top: 120vh; }
}

.trophy-gradient-bg {
  background: linear-gradient(135deg, #FFB800 0%, #FF6B9A 100%);
  box-shadow: 0 2px 8px 0 rgba(255, 107, 154, 0.10);
}

.fixed-dot-indicator {
  @apply fixed left-1/2 -translate-x-1/2 z-30 flex justify-center items-center gap-1;
  /* Respect safe areas on modern phones */
  top: calc(env(safe-area-inset-top, 0px) + 10px);
  width: 100vw;
  max-width: 100vw;
  pointer-events: none;
}

.fade-in-slide {
  opacity: 0.5;
  transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
.fade-in-slide.visible {
  opacity: 1;
}

.sharing-mode .streak-box-text > span,
.sharing-mode .streak-box-text:not(:has(span)) {
  /* Move only the text inside the box up by 3px, do not affect horizontal alignment */
  transform: translateY(-8px);
}
/* Remove the fire emoji adjustment */
.sharing-mode .fire-emoji {
  margin-bottom: 12px;
}
.sharing-mode .streak-box-number {
  transform: translateY(-3px);
}
.sharing-mode .studytime-pie-number {
  transform: translateY(-12px);
}
.sharing-mode .studytime-stats-col {
  transform: translateY(-10px);
}
.sharing-mode .finalcongrats-score-number {
  transform: translateY(-15px);
}
.sharing-mode .quizperformance-pie-number {
  transform: translateY(-10px);
}
.sharing-mode .quizperformance-stats-col {
  transform: translateY(-10px);
}
.sharing-mode .liveclass-pie-number {
  transform: translateY(-10px);
}
.sharing-mode .liveclass-stats-col {
  transform: translateY(-10px);
}
.sharing-mode .welcome-student-emoji {
  transform: translateY(-10px);
}
.sharing-mode .modeltest-bar-value {
  transform: translateY(-10px);
}
.sharing-mode .modeltest-stats-col {
  transform: translateY(-8px);
}

.sharing-mode .streak-stats-text {
  transform: translateY(-4px);
}

.student-name-display {
  transform: translateX(-50%);
}

.sharing-mode .student-name-display {
  transform: translate(-50%, -4px);
}

.sharing-mode .dayofweek-bar-label {
  transform: translateY(-4px);
}
.sharing-mode .dayofweek-day-label {
  transform: translateY(-4px);
}

.animate-pop {
  animation: pop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes pop {
  0% {
    opacity: 0;
    transform: scale(0.3);
  }
  50% {
    opacity: 1;
    transform: scale(1.05);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Yearly report backgrounds */
.gradient-bg-final-yearly {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background: linear-gradient(180deg, #EB46B4 0%, #F7C1E9 65%, #FFFFFF 100%);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* Bunting overlay (flags) */
.bunting-overlay {
  position: absolute;
  top: -12px;
  left: 0;
  width: 100%;
  height: auto;
  z-index: 10; /* Above background, below cards/dots/buttons */
  pointer-events: none; /* Clicks pass through */
  filter: drop-shadow(2px 4px 4px rgba(53, 72, 148, 0.2));
}
.bunting-overlay .string { fill: none; stroke: #354894; stroke-width: 3; stroke-linecap: round; }
.bunting-overlay .flag-pink { fill: #CF278D; }
.bunting-overlay .flag-yellow { fill: #EFAD1E; }
.bunting-overlay .flag-red { fill: #EE3D5E; }
.bunting-overlay .flag-blue { fill: #354894; }

/* Mobile optimization: show only one string and avoid logo overlap */
@media (max-width: 768px) {
  .bunting-overlay .row-bottom {
    display: none;
  }
  .bunting-overlay {
    top: -16px; /* raise slightly on mobile */
    height: auto;
    max-height: 140px;
  }
}

/* Replaces old PNG final background with pure CSS.
   Note: final slide now renders a separate `.sunburst-bg` layer.
   This class remains for legacy but no longer uses external images. */
.gradient-bg-yearly-final {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background:
    radial-gradient(ellipse at 50% 100%, #8fd3ff 0%, #54b6ff 45%, #3aa0ee 100%);
}

/* Pure CSS sunburst rays from bottom center for yearly final slide.
   Used as an absolutely positioned layer behind content. */
.sunburst-bg {
  position: absolute;
  inset: 0;
  z-index: 0;
  background: linear-gradient(180deg, #EB46B4 0%, #F7C1E9 65%, #FFFFFF 100%);
  mix-blend-mode: normal;
  pointer-events: none;
}

/* New class per requirement: smooth radial gradient, center to edges */
.sunburst {
  @apply min-h-screen w-full fixed top-0 left-0 z-0;
  background: linear-gradient(180deg, #EB46B4 0%, #F7C1E9 65%, #FFFFFF 100%);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

